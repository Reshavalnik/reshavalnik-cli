<div class="auth-page">
  <section class="form-wrap">
    <div class="container">
      <div class="brand-chip">Reshavalnik</div>
      <h1 class="title">{{ mode === 'register' ? 'Sign up account' : 'Welcome back' }}</h1>
      <p class="subtitle">
        {{ mode === 'register' ? 'Enter your personal data to create your account' : 'Log in with your account credentials' }}
      </p>

      <div class="oauth">
        <app-google-login-button></app-google-login-button>

        <button class="btn btn-pill btn-outline" type="button" aria-label="Continue with Facebook" (click)="socialLogin('facebook')">
          <img src="data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='dodgerblue'><path d='M22.675 0H1.325C.593 0 0 .593 0 1.325v21.35C0 23.407.593 24 1.325 24h11.495v-9.294H9.692V11.41h3.128V8.828c0-3.098 1.893-4.788 4.66-4.788 1.325 0 2.463.099 2.795.143v3.24h-1.918c-1.504 0-1.796.716-1.796 1.764v2.223h3.59l-.467 3.296h-3.123V24h6.127C23.407 24 24 23.407 24 22.675V1.325C24 .593 23.407 0 22.675 0z'/></svg>"
               alt="">
          Facebook
        </button>
      </div>

      <div class="divider"><span>or</span></div>

      <!-- Error message -->
      <div *ngIf="error" class="error" role="alert">{{ error }}</div>

      <!-- Register form -->
      <form class="form" *ngIf="mode === 'register'" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <label>
          <span>Username</span>
          <input type="text" placeholder="Username" autocomplete="username" formControlName="username">
        </label>

        <label>
          <span>Email address</span>
          <input type="email" placeholder="you@example.com" autocomplete="email" formControlName="email">
        </label>

        <label class="password">
          <span>Password</span>
          <input [type]="passwordVisible ? 'text' : 'password'" placeholder="Enter your password" autocomplete="new-password" formControlName="password">
          <button class="peek" type="button" aria-label="Show password" (click)="peekPassword()">ğŸ‘ï¸</button>
        </label>

        <button class="btn btn-primary btn-wide" type="submit" [disabled]="registerForm.invalid || loading">
          {{ loading ? 'Signing up...' : 'Sign up' }} <span class="arrow">â†’</span>
        </button>
      </form>

      <!-- Login form -->
      <form class="form" *ngIf="mode === 'login'" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <label>
          <span>Username or email</span>
          <input type="text" placeholder="you@example.com" autocomplete="username" formControlName="usernameOrEmail">
        </label>

        <label class="password">
          <span>Password</span>
          <input [type]="passwordVisible ? 'text' : 'password'" placeholder="Enter your password" autocomplete="current-password" formControlName="password">
          <button class="peek" type="button" aria-label="Show password" (click)="peekPassword()">ğŸ‘ï¸</button>
        </label>

        <button class="btn btn-primary btn-wide" type="submit" [disabled]="loginForm.invalid || loading">
          {{ loading ? 'Logging in...' : 'Log in' }} <span class="arrow">â†’</span>
        </button>
      </form>

      <p class="footnote">
        <ng-container *ngIf="mode === 'register'; else loginFootnote">
          Already have an account?
          <a href="#" class="link" (click)="$event.preventDefault(); toggleMode('login')">Log in</a>
        </ng-container>
        <ng-template #loginFootnote>
          Don\'t have an account?
          <a href="#" class="link" (click)="$event.preventDefault(); toggleMode('register')">Sign up</a>
        </ng-template>
      </p>
    </div>
  </section>

  <section class="mosaic" aria-hidden="true" style="--mosaicImage: url('https://images.unsplash.com/photo-1760344594784-60ff14035eb0?auto=format&fit=crop&q=80&w=1932')">
    <img ngSrc="https://images.unsplash.com/photo-1760344594784-60ff14035eb0?auto=format&fit=crop&q=80&w=1932" alt="" fill>
    <article>
      <div></div>
      <div class="tall"></div>
      <div></div>

      <div></div>
      <div class="panel"></div>
      <div></div>

      <div class="neon"></div>
      <div class="aqua"></div>
      <div></div>

      <div class="wide"></div>
      <div></div>
      <div></div>
      <div></div>
    </article>
  </section>
</div>
